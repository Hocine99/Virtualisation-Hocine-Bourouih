apiVersion: v1
kind: ConfigMap
metadata:
  name: postgres-init-sql
data:
  init.sql: |
    CREATE TABLE IF NOT EXISTS rentals (
      id SERIAL PRIMARY KEY,
      customer VARCHAR(100) NOT NULL,
      car_id INTEGER NOT NULL,
      start_date DATE NOT NULL,
      end_date DATE NOT NULL
    );

    INSERT INTO rentals (customer, car_id, start_date, end_date) 
    VALUES
      ('Alice', 1, '2025-02-01', '2025-02-05'),
      ('Bob', 2, '2025-02-10', '2025-02-12')
    ON CONFLICT DO NOTHING;
